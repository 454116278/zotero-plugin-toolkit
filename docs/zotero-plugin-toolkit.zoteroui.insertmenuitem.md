<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [zotero-plugin-toolkit](./zotero-plugin-toolkit.md) &gt; [ZoteroUI](./zotero-plugin-toolkit.zoteroui.md) &gt; [insertMenuItem](./zotero-plugin-toolkit.zoteroui.insertmenuitem.md)

## ZoteroUI.insertMenuItem() method

Insert an menu item/menu(with popup)/menuseprator into a menupopup

<b>Signature:</b>

```typescript
insertMenuItem(menuPopup: XUL.MenuPopup | keyof typeof MenuSelector, options: MenuitemOptions, insertPosition?: "before" | "after", anchorElement?: XUL.Element): boolean;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  menuPopup | XUL.MenuPopup \| keyof typeof MenuSelector |  |
|  options | MenuitemOptions | See [source code:options.ts](https://github.com/windingwind/zotero-plugin-toolkit/blob/main/src/options.ts) |
|  insertPosition | "before" \| "after" | <i>(Optional)</i> |
|  anchorElement | XUL.Element | <i>(Optional)</i> The menuitem will be put before/after <code>anchorElement</code>. If not set, put at start/end of the menupopup. |

<b>Returns:</b>

boolean

## Remarks

options:

```ts
export interface MenuitemOptions {
  tag: "menuitem" | "menu" | "menuseparator";
  id?: string;
  label?: string;
  // data url (chrome://xxx.png) or base64 url (data:image/png;base64,xxx)
  icon?: string;
  class?: string;
  styles?: { [key: string]: string };
  hidden?: boolean;
  disabled?: boolean;
  oncommand?: string;
  commandListener?: EventListenerOrEventListenerObject;
  // Attributes below are used when type === "menu"
  popupId?: string;
  onpopupshowing?: string;
  subElementOptions?: Array<MenuitemOptions>;
}
```

## Example 1

Insert menuitem with icon into item menupopup

```ts
// base64 or chrome:// url
const menuIcon = "chrome://addontemplate/content/icons/favicon@0.5x.png";
this._Addon.Utils.UI.insertMenuItem("item", {
  tag: "menuitem",
  id: "zotero-itemmenu-addontemplate-test",
  label: "Addon Template: Menuitem",
  oncommand: "alert('Hello World! Default Menuitem.')",
  icon: menuIcon,
});
```

## Example 2

Insert menu into file menupopup

```ts
this._Addon.Utils.UI.insertMenuItem(
  "menuFile",
  {
    tag: "menu",
    label: "Addon Template: Menupopup",
    subElementOptions: [
      {
        tag: "menuitem",
        label: "Addon Template",
        oncommand: "alert('Hello World! Sub Menuitem.')",
      },
    ],
  },
  "before",
  this._Addon.Zotero.getMainWindow().document.querySelector(
    "#zotero-itemmenu-addontemplate-test"
  )
);
```

