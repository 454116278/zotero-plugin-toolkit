<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [zotero-plugin-toolkit](./zotero-plugin-toolkit.md) &gt; [ZoteroUI](./zotero-plugin-toolkit.zoteroui.md) &gt; [creatElementsFromJSON](./zotero-plugin-toolkit.zoteroui.createlementsfromjson.md)

## ZoteroUI.creatElementsFromJSON() method

Create elements in batch, based on `createElement`<!-- -->.

The return element will also be maintained by toolkit.

<b>Signature:</b>

```typescript
creatElementsFromJSON(doc: Document, options: ElementOptions): HTMLElement | DocumentFragment | SVGAElement;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  doc | Document |  |
|  options | ElementOptions | See [source code:options.ts](https://github.com/windingwind/zotero-plugin-toolkit/blob/main/src/options.ts) |

<b>Returns:</b>

HTMLElement \| DocumentFragment \| SVGAElement

## Remarks

options:

```ts
export interface ElementOptions {
  tag: string;
  id?: string;
  namespace?: "html" | "svg" | "xul";
  styles?: { [key: string]: string };
  directAttributes?: { [key: string]: string | boolean | number };
  attributes?: { [key: string]: string | boolean | number };
  listeners?: Array<{
    type: string;
    listener: EventListenerOrEventListenerObject | ((e: Event) => void);
    options?: boolean | AddEventListenerOptions;
  }>;
  checkExistanceParent?: HTMLElement;
  ignoreIfExists?: boolean;
  removeIfExists?: boolean;
  customCheck?: () => boolean;
  subElementOptions?: Array<ElementOptions>;
}
```

## Example

Create multiple menu item/menu. This code is part of Zotero Better Notes.

```ts
 const imageSelected = () => {
   // Return false to skip current element
   return true;
 };

 const popup = document.getElementById("popup")!;

 const elementOptions = {
   tag: "fragment",
   subElementOptions: [
     {
       tag: "menuseparator",
       id: "menupopup-betternotessplitter",
       checkExistanceParent: popup,
       ignoreIfExists: true,
     },
     {
       tag: "menuitem",
       id: "menupopup-resizeImage",
       checkExistanceParent: popup,
       ignoreIfExists: true,
       attributes: { label: "Resize Image" },
       customCheck: imageSelected,
       listeners: [
         {
           type: "command",
           listener: (e) => {
             postMessage({ type: "resizeImage", width: 100 }, "   *  ");
           },
         ],
       ],
     },
   ],
 };

 const fragment = this._Addon.ZoteroViews.createXULElement(
   popup.ownerDocument,
   elementOptions
 );
 if (fragment) {
   popup.append(fragment);
 }
```

